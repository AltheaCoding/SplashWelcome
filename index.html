<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="https://github.com/AltheaCoding/image-hosting/blob/main/QRARicon.png?raw=true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join QRAR - Lost & Found Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      @keyframes subtle-bounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-4px);
        }
      }
      .animate-subtle-bounce {
        animation: subtle-bounce 2s ease-in-out infinite;
      }
    </style>
  </head>
  <body class="bg-cyan-50">
    <div id="root"></div>

    <script type="text/babel">
      // De-structure React hooks for convenience
      const { useState } = React;

      // --- From components/Icons.tsx ---
      const ChevronDownIcon = ({ className }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          strokeWidth={1.5}
          stroke="currentColor"
          className={`w-6 h-6 ${className}`}
        >
          <path strokeLinecap="round" strokeLinejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
        </svg>
      );

      const LineIcon = ({ className }) => (
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          viewBox="0 0 512 512" 
          fill="currentColor" 
          className={`w-6 h-6 ${className}`}
        >
          <path d="M414.73,97.1A213.44,213.44,0,0,0,256.32,32C132.32,32,32,121.21,32,245.21c0,64.2,28.66,122.1,75.29,161.12L88.36,480l67.68-45.75c32.12,12.33,67.68,19,100.28,19,124,0,224.32-89.21,224.32-213.2S380.32,32,256.32,32Zm-48.4,228.8a12,12,0,0,1-12,12h-24a12,12,0,0,1-12-12v-60H288.05v60a12,12,0,0,1-12,12h-24a12,12,0,0,1-12-12v-84a12,12,0,0,1,12-12h24a12,12,0,0,1,12,12v12h30.28v-12a12,12,0,0,1,12-12h24a12,12,0,0,1,12,12v84Zm-144-12a12,12,0,0,1-12,12H186a12,12,0,0,1-12-12v-84a12,12,0,0,1,12-12h24.32a12,12,0,0,1,12,12v84Zm-72-12a12,12,0,0,1-12,12H96.32a12,12,0,0,1-12-12v-84a12,12,0,0,1,12-12h24a12,12,0,0,1,12,12v84Z"/>
        </svg>
      );

      // --- From components/Buttons.tsx ---
      const LineButton = ({ children, disabled, ...props }) => {
        return (
          <button
            {...props}
            disabled={disabled}
            className={`w-full flex items-center justify-center gap-3 font-bold py-3 px-4 rounded-full shadow-md hover:shadow-lg focus:outline-none focus:ring-4 transition-all duration-300 ease-in-out transform hover:scale-105
              ${disabled
                ? 'bg-stone-200 text-stone-400 cursor-not-allowed'
                : 'bg-[#06C755] text-white focus:ring-[#06C755]/50 animate-subtle-bounce'
              }
            `}
          >
            {children}
          </button>
        );
      };

      // --- From components/FAQ.tsx ---
      const faqData = [
        {
          question: 'Q1：QRAR 如何運作？',
          answer: 'A：很簡單！您掃描註冊後，此QR code將與您的聯繫方式綁定，您可以將此QRcode貼/掛在任何您想保護的物品上（如鑰匙圈、寵物項圈、背包）。 當有人拾獲您的失物並掃描 QR code 時，他們就能透過我們的匿名系統聯絡您，完全不會洩漏您的個資。此QRcode預設包含10則免費訊息。'
        },
        {
          question: 'Q2：我的個人資料安全嗎？',
          answer: 'A：絕對安全。這是我們的最高原則。拾獲者無法看到您的任何個人資訊（如電話、LINE帳號或Email）。所有的溝通都會透過我們的安全平台進行轉發，您的隱私受到完整的保護。'
        },
        {
          question: 'Q3：我可以將 QR code 貼在哪些地方？',
          answer: 'A：任何您擔心遺失的物品上！例如：鑰匙、錢包、手機、筆電、寵物項圈、孩童的背包或外套、甚至是您的愛車。我們的 QR code 防水耐磨，適用於各種生活場景。'
        },
        {
          question: 'Q4：如果有人掃描了我的 QR code 會發生什麼事？',
          answer: 'A：您會立即收到一則通知，告知您有人掃描了您的 QR code。如果對方選擇留言或透過 LINE 聯絡，訊息會匿名地轉發給您。您可以直接在我們的平台上回覆，安排取回失物的時間與地點。'
        },
      ];

      const FAQItem = ({ item, isOpen, onClick, isDark }) => {
        const textColor = isDark ? 'text-stone-200 hover:text-amber-400' : 'text-stone-700 hover:text-amber-700';
        const answerColor = isDark ? 'text-stone-300' : 'text-stone-600';
        const iconColor = isDark ? 'text-stone-500' : 'text-stone-400';
        const borderColor = isDark ? 'border-stone-700' : 'border-stone-200';
        
        return (
          <div className={`border-b ${borderColor} last:border-b-0`}>
            <button 
              onClick={onClick} 
              className={`w-full flex justify-between items-center text-left font-semibold ${textColor} py-4 focus:outline-none transition-colors`}
              aria-expanded={isOpen}
            >
              <span className="pr-4">{item.question}</span>
              <ChevronDownIcon className={`w-5 h-5 ${iconColor} flex-shrink-0 transform transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`} />
            </button>
            <div className={`overflow-hidden transition-all duration-500 ease-in-out ${isOpen ? 'max-h-screen pb-4' : 'max-h-0'}`}>
              <p className={`${answerColor} text-sm leading-relaxed`}>
                {item.answer}
              </p>
            </div>
          </div>
        );
      };

      const FAQ = ({ isDark }) => {
        const [activeIndex, setActiveIndex] = useState(null);

        const handleToggle = (index) => {
          setActiveIndex(activeIndex === index ? null : index);
        };

        const headerColor = isDark ? 'text-white' : 'text-stone-800';

        return (
          <section className="pt-4">
            <h2 className={`text-xl font-bold ${headerColor} mb-2 text-center`}>常見問題</h2>
            <div>
              {faqData.map((item, index) => (
                <FAQItem 
                  key={index}
                  item={item}
                  isOpen={activeIndex === index}
                  onClick={() => handleToggle(index)}
                  isDark={isDark}
                />
              ))}
            </div>
          </section>
        );
      };

      // --- From components/QRCodeModal.tsx (New component) ---
      const QRCodeModal = ({ isOpen, onClose }) => {
        if (!isOpen) return null;

        return (
          <div 
            className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 transition-opacity duration-300 ease-in-out"
            onClick={onClose}
            aria-modal="true"
            role="dialog"
          >
            <div 
              className="bg-white rounded-2xl shadow-xl p-8 m-4 max-w-sm w-full text-center relative transition-transform duration-300 ease-in-out transform scale-100"
              onClick={(e) => e.stopPropagation()} // Prevent closing modal when clicking inside
            >
              <button 
                onClick={onClose}
                className="absolute top-4 right-4 text-stone-500 hover:text-stone-800 transition-colors"
                aria-label="Close modal"
              >
                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
              <h3 className="text-xl font-bold text-stone-800 mb-2">使用 Line 掃描註冊</h3>
              <p className="text-stone-600 mb-6">請使用您的 Line App 掃描下方的 QR code 以完成註冊流程。</p>
              <img 
                src="https://qr-official.line.me/sid/M/859xxicf.png" // Placeholder Line QR code
                alt="Line QR Code for Registration"
                className="w-56 h-56 mx-auto border-4 border-stone-100 rounded-lg"
              />
            </div>
          </div>
        );
      };

      // --- From App.tsx ---
      const App = () => {
        const [isModalOpen, setIsModalOpen] = useState(false);

        return (
          <div className="min-h-screen bg-cyan-50 flex items-center justify-center p-4 font-sans">
            <main className="bg-white rounded-2xl shadow-lg w-full max-w-lg mx-auto overflow-hidden">
              <header 
                className="flex justify-between items-center py-4 px-6"
                style={{ backgroundColor: '#fffbeb' }}
              >
                <div className="flex items-center gap-3">
                  <img 
                      src="https://github.com/AltheaCoding/image-hosting/blob/main/Solution_%20(5).PNG?raw=true" 
                      alt="QRAR Logo" 
                      className="h-8 w-auto"
                  />
                  <div>
                      <p className="text-xl font-bold text-stone-800 leading-tight">qrar.com</p>
                      <p className="text-base text-stone-600 font-semibold leading-tight">安心找回中心</p>
                  </div>
                </div>
                <p className="text-xl font-bold text-amber-700">歡迎加入!</p>
              </header>
              
              <div className="p-6 md:p-8 text-center">
                 <h1 className="text-2xl font-bold text-stone-800">守護您的摯愛</h1>
                 <p className="text-stone-600 mt-2 mb-2 leading-relaxed">
                    QRcode 聯繫，不暴露個資，安全、有保障。
                 </p>
                 <img 
                  src="https://github.com/AltheaCoding/SplashWelcome/blob/main/Steps_REBG.gif?raw=true" 
                  alt="QRAR registration steps: Get QR code, Attach to item, Finder scans, Get notified."
                  className="w-full h-auto object-contain mb-6"
                />
                <div className="space-y-4">
                    <LineButton onClick={() => setIsModalOpen(true)}>
                      <LineIcon />
                      <span>註冊 - 馬上開始保護我的摯愛</span>
                    </LineButton>
                </div>
                <img 
                  src="https://github.com/AltheaCoding/SplashScreen/blob/main/49301731841.png?raw=true" 
                  alt="展示QRAR服務應用於寵物、鑰匙及手機等場景"
                  className="w-full h-auto object-contain my-6"
                />
                <p className="text-xs text-stone-500 pt-4">
                    註冊即表示您同意我們的
                    <a href="#" className="underline">服務條款</a> 和
                    <a href="#" className="underline">隱私權政策</a>。
                </p>
              </div>
              
              <div className="p-6 md:p-8 space-y-6" style={{ backgroundColor: '#212c42' }}>
                <footer 
                  className="pt-4 text-left space-y-1" 
                  style={{ color: '#FBF8F1', fontSize: '0.6rem', lineHeight: '1.5' }}
                >
                  <p>
                    安全提醒：請認明 <a href="https://qrar.com" target="_blank" rel="noopener noreferrer" className="underline hover:text-amber-400 transition-colors">https://qrar.com</a> 官方網址。
                  </p>
                  <p>本系統絕不會向您索取個資、密碼或金融帳戶。有任何疑慮請直撥 165 反詐騙專線。</p>
                </footer>
                
                <FAQ isDark={true} />
              </div>
            </main>
            <QRCodeModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />
          </div>
        );
      };
      
      // --- From index.tsx ---
      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);

    </script>
  </body>
</html>
