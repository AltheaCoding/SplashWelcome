<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="https://github.com/AltheaCoding/image-hosting/blob/main/QRARicon.png?raw=true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join QRAR - Lost & Found Center</title>

    <!-- Preload critical images to improve perceived load time -->
    <link rel="preload" href="https://github.com/AltheaCoding/SplashWelcome/blob/main/Steps_REBG.gif?raw=true" as="image" type="image/gif">
    <link rel="preload" href="https://github.com/AltheaCoding/SplashScreen/blob/main/49301731841.png?raw=true" as="image" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      @keyframes subtle-bounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-4px);
        }
      }
      .animate-subtle-bounce {
        animation: subtle-bounce 2s ease-in-out infinite;
      }
      
      /* Modal Animations */
      @keyframes modal-backdrop-fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes modal-content-scale-up {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }
      .modal-animation-backdrop {
        animation: modal-backdrop-fade-in 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
      .modal-animation-content {
        animation: modal-content-scale-up 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
    </style>
  </head>
  <body class="bg-cyan-50">
    <div id="root"></div>

    <script type="text/babel">
      // De-structure React hooks for convenience
      const { useState } = React;

      // --- From components/Icons.tsx ---
      const ChevronDownIcon = ({ className }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          strokeWidth={1.5}
          stroke="currentColor"
          className={`w-6 h-6 ${className}`}
        >
          <path strokeLinecap="round" strokeLinejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
        </svg>
      );
      
      const CloseIcon = ({ className }) => (
        <svg 
            xmlns="http://www.w3.org/2000/svg" 
            className={`h-6 w-6 ${className}`} 
            fill="none" 
            viewBox="0 0 24 24" 
            stroke="currentColor" 
            strokeWidth={2}
        >
          <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      );

      // --- Modal Component ---
      const Modal = ({ isOpen, onClose, title, children }) => {
        if (!isOpen) return null;

        return (
          <div 
            className="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 modal-animation-backdrop"
            onClick={onClose}
            aria-modal="true"
            role="dialog"
          >
            <div 
              className="bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[85vh] overflow-hidden flex flex-col modal-animation-content"
              onClick={e => e.stopPropagation()} // Prevent closing when clicking inside modal
            >
              <header className="flex justify-between items-center p-4 border-b border-stone-200 flex-shrink-0">
                <h2 className="text-xl font-bold text-stone-800">{title}</h2>
                <button 
                  onClick={onClose} 
                  className="text-stone-500 hover:text-stone-900 transition-colors"
                  aria-label="Close modal"
                >
                  <CloseIcon />
                </button>
              </header>
              <div className="p-6 overflow-y-auto">
                {children}
              </div>
            </div>
          </div>
        );
      };

      // --- From components/FAQ.tsx ---
      const faqData = [
        {
          question: 'Q1：QRAR 如何運作？',
          answer: 'A：很簡單！您掃描註冊後，此QR code將與您的聯繫方式綁定，您可以將此QRcode貼/掛在任何您想保護的物品上（如鑰匙圈、寵物項圈、背包）。 當有人拾獲您的失物並掃描 QR code 時，他們就能透過我們的匿名系統聯絡您，完全不會洩漏您的個資。此QRcode預設包含10則免費訊息。'
        },
        {
          question: 'Q2：我的個人資料安全嗎？',
          answer: 'A：絕對安全。這是我們的最高原則。拾獲者無法看到您的任何個人資訊（如電話、LINE帳號或Email）。所有的溝通都會透過我們的安全平台進行轉發，您的隱私受到完整的保護。'
        },
        {
          question: 'Q3：我可以將 QR code 貼在哪些地方？',
          answer: 'A：任何您擔心遺失的物品上！例如：鑰匙、錢包、手機、筆電、寵物項圈、孩童的背包或外套、甚至是您的愛車。我們的 QR code 防水耐磨，適用於各種生活場景。'
        },
        {
          question: 'Q4：如果有人掃描了我的 QR code 會發生什麼事？',
          answer: 'A：您會立即收到一則通知，告知您有人掃描了您的 QR code。如果對方選擇留言或透過 LINE 聯絡，訊息會匿名地轉發給您。您可以直接在我們的平台上回覆，安排取回失物的時間與地點。'
        },
      ];

      const FAQItem = ({ item, isOpen, onClick, isDark }) => {
        const textColor = isDark ? 'text-stone-200 hover:text-amber-400' : 'text-stone-700 hover:text-amber-700';
        const answerColor = isDark ? 'text-stone-300' : 'text-stone-600';
        const iconColor = isDark ? 'text-stone-500' : 'text-stone-400';
        const borderColor = isDark ? 'border-stone-700' : 'border-stone-200';
        
        return (
          <div className={`border-b ${borderColor} last:border-b-0`}>
            <button 
              onClick={onClick} 
              className={`w-full flex justify-between items-center text-left font-semibold ${textColor} py-4 focus:outline-none transition-colors`}
              aria-expanded={isOpen}
            >
              <span className="pr-4">{item.question}</span>
              <ChevronDownIcon className={`w-5 h-5 ${iconColor} flex-shrink-0 transform transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`} />
            </button>
            <div className={`overflow-hidden transition-all duration-500 ease-in-out ${isOpen ? 'max-h-screen pb-4' : 'max-h-0'}`}>
              <p className={`${answerColor} text-sm leading-relaxed`}>
                {item.answer}
              </p>
            </div>
          </div>
        );
      };

      const FAQ = ({ isDark }) => {
        const [activeIndex, setActiveIndex] = useState(null);

        const handleToggle = (index) => {
          setActiveIndex(activeIndex === index ? null : index);
        };

        const headerColor = isDark ? 'text-white' : 'text-stone-800';

        return (
          <section className="pt-4">
            <h2 className={`text-xl font-bold ${headerColor} mb-2 text-center`}>常見問題</h2>
            <div>
              {faqData.map((item, index) => (
                <FAQItem 
                  key={index}
                  item={item}
                  isOpen={activeIndex === index}
                  onClick={() => handleToggle(index)}
                  isDark={isDark}
                />
              ))}
            </div>
          </section>
        );
      };

      // --- From App.tsx ---
      const App = () => {
        const [modalContent, setModalContent] = useState(null); // null, 'terms', or 'privacy'
        const [heroGifLoaded, setHeroGifLoaded] = useState(false);
        const [heroPngLoaded, setHeroPngLoaded] = useState(false);

        const policies = {
            terms: {
                title: '服務條款',
                content: (
                    <div className="text-stone-700 space-y-4 text-left text-sm">
                        <div>
                            <h4 className="font-bold mb-1">1. 接受條款</h4>
                            <p>當您註冊或使用 QRAR（以下簡稱「本服務」），即表示您已閱讀、瞭解並同意接受本服務條款之所有內容。如果您不同意本條款的內容，請勿註冊或使用本服務。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">2. 服務說明</h4>
                            <p>本服務提供一個基於 QR code 的失物尋回平台。使用者可將其 QR code 附於個人物品上。當物品遺失且被拾獲者掃描 QR code 時，本服務將作為匿名中間人，協助雙方進行溝通，以利物品歸還。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">3. 隱私權</h4>
                            <p>您的隱私對我們至關重要。我們承諾不會將您的個人聯繫資訊（如 LINE 帳號、電話或 Email）直接透露給拾獲者。所有通訊都將透過我們的系統進行匿名轉發。詳細資訊請參閱我們的《隱私權政策》。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">4. 使用者行為</h4>
                            <p>您同意不使用本服務進行任何非法或濫用行為，包括但不限於騷擾、詐騙或傳播不當資訊。若有違反，我們有權終止您的服務。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">5. 條款修訂</h4>
                            <p>我們保留隨時修改本服務條款的權利。修改後的條款將公佈於本網站上，不另行個別通知。建議您定期查閱以瞭解最新版本。</p>
                        </div>
                    </div>
                )
            },
            privacy: {
                title: '隱私權政策',
                content: (
                    <div className="text-stone-700 space-y-4 text-left text-sm">
                        <div>
                            <h4 className="font-bold mb-1">1. 資訊收集</h4>
                            <p>當您註冊本服務時，我們會收集您提供的聯繫方式（例如 LINE 帳號或 Email），僅用於失物尋回時的通知與溝通目的。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">2. 資訊使用</h4>
                            <p>您提供的聯繫資訊將被嚴格保密。我們僅在以下情況使用您的資訊：(a) 當您的 QR code 被掃描時，向您發送通知。(b) 轉發拾獲者透過本平台發送給您的匿名訊息。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">3. 資訊分享與揭露</h4>
                            <p>我們絕不會將您的個人識別資訊出售、交易或轉讓給第三方。您的聯繫方式不會直接顯示給掃描 QR code 的拾獲者。所有溝通都是透過我們的安全伺服器進行匿名處理，以保護您的身份。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">4. 資料安全</h4>
                            <p>我們採用業界標準的安全措施來保護您的個人資料，防止未經授權的存取、修改、揭露或銷毀。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">5. Cookie 與追蹤技術</h4>
                            <p>我們可能使用 Cookie 來提升網站體驗，但不會用於追蹤您的個人身份或跨網站的行為。</p>
                        </div>
                        <div>
                            <h4 className="font-bold mb-1">6. 政策變更</h4>
                            <p>本隱私權政策可能會不時修訂。任何變更將會在此頁面上公佈。繼續使用本服務即表示您同意修訂後的政策。</p>
                        </div>
                    </div>
                )
            }
        };

        const handleOpenModal = (type) => setModalContent(type);
        const handleCloseModal = () => setModalContent(null);

        return (
          <div className="min-h-screen bg-cyan-50 flex items-center justify-center p-4 font-sans">
            <main className="bg-white rounded-2xl shadow-lg w-full max-w-lg mx-auto overflow-hidden">
              <header 
                className="flex justify-between items-center py-3 px-5"
                style={{ backgroundColor: '#fffbeb' }}
              >
                <div className="flex items-center gap-2">
                  <img 
                      src="https://github.com/AltheaCoding/image-hosting/blob/main/Solution_%20(5).PNG?raw=true" 
                      alt="QRAR Logo" 
                      className="h-7 w-auto"
                  />
                  <div>
                      <p className="text-lg font-bold text-stone-800 leading-tight">qrar.com</p>
                      <p className="text-sm text-stone-600 font-semibold leading-tight">安心找回中心</p>
                  </div>
                </div>
                <p className="text-lg font-bold text-amber-700">歡迎加入!</p>
              </header>
              
              <div className="p-6 md:p-8 text-center">
                 <h1 className="text-2xl font-bold text-stone-800">守護您的摯愛</h1>
                 <div 
                  className="my-2 inline-block"
                  style={{ backgroundColor: '#cffafe99', transform: 'skewX(-15deg)' }}
                >
                  <div 
                    className="py-2 px-4"
                    style={{ transform: 'skewX(15deg)' }}
                  >
                    <p className="text-sm font-medium text-stone-800">
                     QRcode 聯繫，不暴露個資，安全、有保障。
                    </p>
                  </div>
                </div>
                {/* Image placeholder for hero GIF */}
                <div className="relative w-full my-6 bg-stone-100 rounded-lg" style={{ paddingTop: '75%' }}>
                    <img 
                      src="https://github.com/AltheaCoding/SplashWelcome/blob/main/Steps_REBG.gif?raw=true" 
                      alt="QRAR registration steps: Get QR code, Attach to item, Finder scans, Get notified."
                      className={`absolute top-0 left-0 w-full h-full object-contain transition-opacity duration-500 ${heroGifLoaded ? 'opacity-100' : 'opacity-0'}`}
                      loading="eager"
                      fetchpriority="high"
                      onLoad={() => setHeroGifLoaded(true)}
                    />
                </div>
                <div className="space-y-4">
                    <a
                      href="https://line.me/R/ti/p/@859xxicf"
                      target="_blank"
                      rel="noopener noreferrer"
                      className="w-full flex items-center justify-center gap-3 font-bold py-3 px-4 rounded-full shadow-md hover:shadow-lg focus:outline-none focus:ring-4 transition-all duration-300 ease-in-out transform hover:scale-105 bg-[#06C755] text-white focus:ring-[#06C755]/50 animate-subtle-bounce"
                    >
                      <img src="https://github.com/AltheaCoding/image-hosting/blob/main/line_132.png?raw=true" alt="LINE logo" className="w-6 h-6" />
                      <span>註冊 - 馬上保護</span>
                    </a>
                </div>
                {/* Image placeholder for hero PNG */}
                <div className="relative w-full my-6 bg-stone-100 rounded-lg" style={{ paddingTop: '48.16%' }}>
                    <img 
                      src="https://github.com/AltheaCoding/SplashScreen/blob/main/49301731841.png?raw=true" 
                      alt="展示QRAR服務應用於寵物、鑰匙及手機等場景"
                      className={`absolute top-0 left-0 w-full h-full object-contain transition-opacity duration-500 ${heroPngLoaded ? 'opacity-100' : 'opacity-0'}`}
                      loading="lazy"
                      onLoad={() => setHeroPngLoaded(true)}
                    />
                </div>
                <p className="text-xs text-stone-500 pt-4">
                    註冊即表示您同意我們的
                    <button onClick={() => handleOpenModal('terms')} className="underline hover:text-stone-800 focus:outline-none transition-colors">服務條款</button> 和
                    <button onClick={() => handleOpenModal('privacy')} className="underline hover:text-stone-800 focus:outline-none transition-colors">隱私權政策</button>。
                </p>
              </div>
              
              <div className="p-6 md:p-8 space-y-6" style={{ backgroundColor: '#212c42' }}>
                <footer 
                  className="pt-4 text-left space-y-1" 
                  style={{ color: '#FBF8F1', fontSize: '0.6rem', lineHeight: '1.5' }}
                >
                  <p>
                    安全提醒：請認明 <a href="https://qrar.com" target="_blank" rel="noopener noreferrer" className="underline hover:text-amber-400 transition-colors">https://qrar.com</a> 官方網址。
                  </p>
                  <p>本系統絕不會向您索取個資、密碼或金融帳戶。有任何疑慮請直撥 165 反詐騙專線。</p>
                </footer>
                
                <FAQ isDark={true} />
              </div>
            </main>
            <Modal
              isOpen={!!modalContent}
              onClose={handleCloseModal}
              title={modalContent ? policies[modalContent].title : ''}
            >
              {modalContent && policies[modalContent].content}
            </Modal>
          </div>
        );
      };
      
      // --- From index.tsx ---
      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);

    </script>
  </body>
</html>
